--[[     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—     â•‘   Ultimate Performance Optimizer             â•‘     â•‘   - CPU Stabilizer (anti-jumping)            â•‘     â•‘   - Maximum Resource Optimization            â•‘     â•‘   - Hide Other Players                       â•‘     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ]]  if _G.UltimateOptimizerRunning then     warn("âš ï¸ Optimizer sudah berjalan!")     return end _G.UltimateOptimizerRunning = true  -- Services local Players = game:GetService("Players") local RunService = game:GetService("RunService") local Workspace = game:GetService("Workspace") local Lighting = game:GetService("Lighting") local Stats = game:GetService("Stats") local LocalPlayer = Players.LocalPlayer  -- Settings local CONFIG = {     hideOtherPlayers = true,     optimizeResources = true,     stabilizeCPU = true,     targetFPS = 60,     aggressiveMode = true  -- true = maximum optimization }  local optimizationStats = {     objectsDisabled = 0,     playersHidden = 0,     cpuStabilized = false,     memoryFreed = 0 }  -- ============================================ -- CPU STABILIZER (Anti-Jumping) -- ============================================ local function stabilizeCPU()     if not CONFIG.stabilizeCPU then return end          print("âš™ï¸ Stabilizing CPU...")          -- 1. Limit physics updates     pcall(function()         settings().Physics.AllowSleep = true         settings().Physics.ThrottleAdjustTime = 0.1     end)          -- 2. Reduce render distance     pcall(function()         if Workspace:FindFirstChild("StreamingEnabled") then             Workspace.StreamingEnabled = false         end     end)          -- 3. Smooth frame pacing     local lastFrame = tick()     local targetFrameTime = 1 / CONFIG.targetFPS          RunService.Heartbeat:Connect(function()         local currentTime = tick()         local deltaTime = currentTime - lastFrame                  -- If frame too fast, throttle         if deltaTime < targetFrameTime then             local waitTime = targetFrameTime - deltaTime             task.wait(waitTime)         end                  lastFrame = tick()     end)          -- 4. Limit garbage collection spikes     pcall(function()         setfpscap(CONFIG.targetFPS)     end)          optimizationStats.cpuStabilized = true     print("âœ… CPU stabilized - Target FPS:", CONFIG.targetFPS) end  -- ============================================ -- RESOURCE OPTIMIZATION (Maximum) -- ============================================ local function optimizeResources()     if not CONFIG.optimizeResources then return end          print("ğŸ”§ Optimizing game resources...")          local startMem = Stats:GetTotalMemoryUsageMb()          -- 1. Graphics Settings (Lowest)     pcall(function()         settings().Rendering.QualityLevel = Enum.QualityLevel.Level01         settings().Rendering.MeshPartDetailLevel = Enum.MeshPartDetailLevel.Level01         settings().Rendering.EditQualityLevel = Enum.EditQualityLevel.Level01     end)          -- 2. Lighting Optimization     pcall(function()         Lighting.GlobalShadows = false         Lighting.EnvironmentDiffuseScale = 0         Lighting.EnvironmentSpecularScale = 0         Lighting.Brightness = 1         Lighting.Technology = Enum.Technology.Compatibility     end)          -- 3. Terrain Optimization     pcall(function()         local terrain = Workspace:FindFirstChildOfClass("Terrain")         if terrain then             terrain.WaterTransparency = 1             terrain.WaterWaveSize = 0             terrain.WaterWaveSpeed = 0             terrain.Decoration = false         end     end)          -- 4. Disable Post Effects     pcall(function()         for _, effect in pairs(Lighting:GetChildren()) do             if effect:IsA("PostEffect") then                 effect.Enabled = false                 optimizationStats.objectsDisabled = optimizationStats.objectsDisabled + 1             end         end     end)          -- 5. Disable Particles & Effects     local function disableEffects(parent)         for _, obj in pairs(parent:GetDescendants()) do             pcall(function()                 if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then                     obj.Enabled = false                     optimizationStats.objectsDisabled = optimizationStats.objectsDisabled + 1                                      elseif obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles") then                     obj.Enabled = false                     optimizationStats.objectsDisabled = optimizationStats.objectsDisabled + 1                                      elseif obj:IsA("PointLight") or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") then                     obj.Enabled = false                     optimizationStats.objectsDisabled = optimizationStats.objectsDisabled + 1                                      elseif obj:IsA("Sound") and obj.Playing then                     obj.Volume = 0                     optimizationStats.objectsDisabled = optimizationStats.objectsDisabled + 1                 end             end)         end     end          disableEffects(Workspace)          -- 6. Reduce Mesh Quality     if CONFIG.aggressiveMode then         for _, obj in pairs(Workspace:GetDescendants()) do             pcall(function()                 if obj:IsA("MeshPart") then                     obj.RenderFidelity = Enum.RenderFidelity.Performance                     obj.CastShadow = false                 elseif obj:IsA("BasePart") then                     obj.CastShadow = false                 end             end)         end     end          -- 7. Force Garbage Collection     for i = 1, 3 do         collectgarbage("collect")         task.wait(0.1)     end          local endMem = Stats:GetTotalMemoryUsageMb()     optimizationStats.memoryFreed = startMem - endMem          print(string.format("âœ… Resources optimized - Freed %.1f MB", optimizationStats.memoryFreed)) end  -- ============================================ -- HIDE OTHER PLAYERS -- ============================================ local hiddenPlayers = {} local originalTransparencies = {}  local function hidePlayer(player)     if player == LocalPlayer then return end     if hiddenPlayers[player.UserId] then return end          local character = player.Character     if not character then return end          hiddenPlayers[player.UserId] = true          for _, obj in pairs(character:GetDescendants()) do         pcall(function()             if obj:IsA("BasePart") then                 if not originalTransparencies[obj] then                     originalTransparencies[obj] = obj.Transparency                 end                 obj.Transparency = 1                              elseif obj:IsA("Decal") or obj:IsA("Texture") then                 if not originalTransparencies[obj] then                     originalTransparencies[obj] = obj.Transparency                 end                 obj.Transparency = 1                              elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then                 obj.Enabled = false                              elseif obj:IsA("PointLight") or obj:IsA("SpotLight") then                 obj.Enabled = false             end         end)     end          optimizationStats.playersHidden = optimizationStats.playersHidden + 1 end  local function showPlayer(player)     if not hiddenPlayers[player.UserId] then return end          local character = player.Character     if not character then return end          for _, obj in pairs(character:GetDescendants()) do         pcall(function()             if originalTransparencies[obj] then                 obj.Transparency = originalTransparencies[obj]             end         end)     end          hiddenPlayers[player.UserId] = nil     optimizationStats.playersHidden = optimizationStats.playersHidden - 1 end  local function hideAllPlayers()     if not CONFIG.hideOtherPlayers then return end          print("ğŸ‘» Hiding other players...")          for _, player in pairs(Players:GetPlayers()) do         if player ~= LocalPlayer then             hidePlayer(player)         end     end          -- Monitor new players     Players.PlayerAdded:Connect(function(player)         if CONFIG.hideOtherPlayers then             player.CharacterAdded:Connect(function(character)                 task.wait(0.5)                 hidePlayer(player)             end)                          if player.Character then                 task.wait(0.5)                 hidePlayer(player)             end         end     end)          -- Monitor character respawn     for _, player in pairs(Players:GetPlayers()) do         if player ~= LocalPlayer then             player.CharacterAdded:Connect(function(character)                 if CONFIG.hideOtherPlayers then                     task.wait(0.5)                     hidePlayer(player)                 end             end)         end     end          print(string.format("âœ… Hidden %d players", optimizationStats.playersHidden)) end  -- ============================================ -- CONTINUOUS OPTIMIZATION -- ============================================ local function continuousOptimization()     task.spawn(function()         while task.wait(5) do             if CONFIG.optimizeResources then                 -- Clean up new objects                 local count = 0                 for _, obj in pairs(Workspace:GetDescendants()) do                     pcall(function()                         if obj:IsA("ParticleEmitter") or obj:IsA("Trail") then                             if obj.Enabled then                                 obj.Enabled = false                                 count = count + 1                             end                         end                     end)                 end                                  if count > 0 then                     print(string.format("ğŸ”„ Cleaned %d new effects", count))                 end                                  -- Force GC every 30 seconds                 collectgarbage("collect")             end         end     end) end  -- ============================================ -- PERFORMANCE MONITOR -- ============================================ local fpsHistory = {} local cpuSpikes = 0  local function monitorPerformance()     local lastTime = tick()     local frameCount = 0          RunService.Heartbeat:Connect(function()         frameCount = frameCount + 1                  if tick() - lastTime >= 1 then             local currentFPS = frameCount             table.insert(fpsHistory, currentFPS)                          -- Keep only last 10 seconds             if #fpsHistory > 10 then                 table.remove(fpsHistory, 1)             end                          -- Detect FPS drops (CPU spikes)             if #fpsHistory >= 2 then                 local prevFPS = fpsHistory[#fpsHistory - 1]                 local fpsDrop = prevFPS - currentFPS                                  if fpsDrop > 15 then                     cpuSpikes = cpuSpikes + 1                                          -- Auto-adjust on spike                     if CONFIG.aggressiveMode then                         collectgarbage("collect")                     end                 end             end                          frameCount = 0             lastTime = tick()         end     end) end  -- ============================================ -- UI CONTROLS -- ============================================ local screenGui = Instance.new("ScreenGui") screenGui.Name = "UltimateOptimizer" screenGui.ResetOnSpawn = false screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling  pcall(function()     screenGui.Parent = game:GetService("CoreGui") end) if not screenGui.Parent then     screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui") end  -- Compact Status Display local statusFrame = Instance.new("Frame") statusFrame.Size = UDim2.new(0, 220, 0, 130) statusFrame.Position = UDim2.new(1, -230, 0, 10) statusFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 22) statusFrame.BorderSizePixel = 0 statusFrame.Active = true statusFrame.Draggable = true statusFrame.Parent = screenGui  local statusCorner = Instance.new("UICorner") statusCorner.CornerRadius = UDim.new(0, 10) statusCorner.Parent = statusFrame  -- Header local header = Instance.new("TextLabel") header.Size = UDim2.new(1, 0, 0, 30) header.BackgroundColor3 = Color3.fromRGB(25, 25, 35) header.TextColor3 = Color3.fromRGB(255, 255, 255) header.Text = "âš¡ Performance" header.Font = Enum.Font.GothamBold header.TextSize = 14 header.BorderSizePixel = 0 header.Parent = statusFrame  local headerCorner = Instance.new("UICorner") headerCorner.CornerRadius = UDim.new(0, 10) headerCorner.Parent = header  -- Stats Display local statsLabel = Instance.new("TextLabel") statsLabel.Size = UDim2.new(1, -16, 1, -38) statsLabel.Position = UDim2.new(0, 8, 0, 34) statsLabel.BackgroundTransparency = 1 statsLabel.TextColor3 = Color3.fromRGB(200, 200, 220) statsLabel.Font = Enum.Font.Code statsLabel.TextSize = 11 statsLabel.TextXAlignment = Enum.TextXAlignment.Left statsLabel.TextYAlignment = Enum.TextYAlignment.Top statsLabel.Text = "Initializing..." statsLabel.Parent = statusFrame  -- Update stats display task.spawn(function()     while task.wait(0.5) do         local fps = #fpsHistory > 0 and fpsHistory[#fpsHistory] or 0         local memory = math.floor(Stats:GetTotalMemoryUsageMb())         local ping = math.floor(LocalPlayer:GetNetworkPing() * 1000)                  local fpsColor = fps >= 50 and "ğŸŸ¢" or (fps >= 30 and "ğŸŸ¡" or "ğŸ”´")                  statsLabel.Text = string.format([[ %s FPS: %d ğŸ’¾ Memory: %d MB ğŸ“¡ Ping: %d ms  ğŸ¯ Objects: %d ğŸ‘» Players: %d âš ï¸ CPU Spikes: %d  Status: Active âœ… ]], fpsColor, fps, memory, ping, optimizationStats.objectsDisabled, optimizationStats.playersHidden, cpuSpikes)     end end)  -- Toggle button local toggleBtn = Instance.new("TextButton") toggleBtn.Size = UDim2.new(0, 30, 0, 30) toggleBtn.Position = UDim2.new(1, -35, 0, 0) toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 100) toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255) toggleBtn.Text = "â€”" toggleBtn.Font = Enum.Font.GothamBold toggleBtn.TextSize = 18 toggleBtn.BorderSizePixel = 0 toggleBtn.Parent = header  local toggleCorner = Instance.new("UICorner") toggleCorner.CornerRadius = UDim.new(0, 6) toggleCorner.Parent = toggleBtn  local minimized = false toggleBtn.MouseButton1Click:Connect(function()     minimized = not minimized          if minimized then         statusFrame.Size = UDim2.new(0, 220, 0, 30)         statsLabel.Visible = false         toggleBtn.Text = "+"     else         statusFrame.Size = UDim2.new(0, 220, 0, 130)         statsLabel.Visible = true         toggleBtn.Text = "â€”"     end end)  -- ============================================ -- MAIN EXECUTION -- ============================================ print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•") print("âš¡ ULTIMATE PERFORMANCE OPTIMIZER") print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")  -- Apply all optimizations stabilizeCPU() task.wait(0.2)  optimizeResources() task.wait(0.2)  hideAllPlayers() task.wait(0.2)  continuousOptimization() monitorPerformance()  print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•") print("âœ… ALL OPTIMIZATIONS ACTIVE") print(string.format("ğŸ“Š Objects disabled: %d", optimizationStats.objectsDisabled)) print(string.format("ğŸ‘» Players hidden: %d", optimizationStats.playersHidden)) print(string.format("ğŸ’¾ Memory freed: %.1f MB", optimizationStats.memoryFreed)) print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•") print("ğŸ® Game performance maximized!") print("ğŸ“Š Check top-right UI for live stats")  -- Notification pcall(function()     game:GetService("StarterGui"):SetCore("SendNotification", {         Title = "âš¡ Optimizer Active",         Text = string.format("FPS stabilized | %d players hidden", optimizationStats.playersHidden),         Duration = 5     }) end)  -- Expose controls _G.OptimizerConfig = CONFIG _G.ShowAllPlayers = function()     CONFIG.hideOtherPlayers = false     for userId, _ in pairs(hiddenPlayers) do         local player = Players:GetPlayerByUserId(userId)         if player then showPlayer(player) end     end end _G.HideAllPlayers = function()     CONFIG.hideOtherPlayers = true     hideAllPlayers() end  print("ğŸ’¡ Commands:") print("  _G.ShowAllPlayers() - Show hidden players") print("  _G.HideAllPlayers() - Hide players again")
